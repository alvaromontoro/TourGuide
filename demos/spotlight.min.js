"use strict";var SpotlightJS=function(t){var e=this;if(this.start=function(){e.hasSteps()&&(e.frame.style.display="block",e.goToFirstStep())},this.stop=function(){e.frame.style.display="none"},this.goToStep=function(t){if(e.hasSteps()&&!isNaN(t)&&t>-1&&t<e.steps.length){e.spot.classList.remove("spjs-step-"+e.current,"spjs-step-square","spjs-step-round"),e.current=t;var s=document.querySelector(e.steps[t]);if(s){var i=s.getBoundingClientRect();e.spot.style.width=i.width+20+"px",e.spot.style.height=i.height+20+"px",e.spot.style.top=i.top-10+"px",e.spot.style.left=i.left-10+"px",e.spot.classList.add("spjs-step-"+t),e.textContent.textContent=s.dataset.spText,e.previousButton&&(e.previousButton.style.display=0==e.current?"none":"inline-block"),s.dataset.spShape&&e.spot.classList.add("spjs-step-"+s.dataset.spShape)}}},this.goToFirstStep=function(){e.goToStep(0)},this.goToNextStep=function(){e.current==e.steps.length-1&&e.stop(),e.current<e.steps.length&&e.goToStep(e.current+1)},this.goToPreviousStep=function(){e.current>0&&e.goToStep(e.current-1)},this.hasSteps=function(){return""!=e.init&&e.steps.length>0},this.currentElementSelector=function(){return e.steps[e.current]},this.currentElement=function(){return document.querySelector(e.currentElementSelector())},this.getText=function(){return e.currentElement().dataset.spText},this.getStep=function(){return e.current+1},this.getTotalSteps=function(){return e.steps.length+1},this.init="",this.shape="round",this.color="rgba(0,0,0,0.4)",this.skip=!0,this.skipText="Skip presentation",this.previous=!0,this.previousText="Previous",this.next=!0,this.nextText="Next",this.timer=0,this.current=0,this.steps=[],this.frame=null,this.spot=null,this.text=null,this.textContent=null,this.previousButton=null,this.nextButton=null,t&&(t.init&&(this.init=t.init),t.shape&&(this.shape="square"==t.shape?"square":"round"),t.hasOwnProperty("skip")&&(this.skip=1==t.skip),t.hasOwnProperty("previous")&&(this.previous=1==t.previous),t.hasOwnProperty("next")&&(this.next=1==t.next),t.skipText&&(this.skipText=t.skipText),t.previousText&&(this.previousText=t.previousText),t.nextText&&(this.nextText=t.nextText),t.steps&&(this.steps=t.steps)),""!=this.init&&!this.hasSteps())for(var s=this.init;s;)this.steps.push(s),s=document.querySelector(s).dataset.spNext;var i=document.createElement("div");i.id="spjs-frame";var n=document.createElement("div");n.id="spjs-spot",n.classList.add("spjs-"+this.shape);var p=document.createElement("div");p.id="spjs-text";var r=document.createElement("span");if(r.id="spjs-textContent",p.appendChild(r),this.skip){var o=document.createElement("span");o.innerHTML=this.skipText,o.id="spjs-skip",o.addEventListener("click",this.stop),i.appendChild(o)}if(this.previous){var h=document.createElement("span");h.innerHTML=this.previousText,h.addEventListener("click",this.goToPreviousStep),p.appendChild(h),this.previousButton=h}if(this.next){var u=document.createElement("span");u.innerHTML=this.nextText,u.addEventListener("click",this.goToNextStep),p.appendChild(u),this.nextButton=u}n.appendChild(p),i.appendChild(n),document.querySelector("body").appendChild(i),this.frame=i,this.spot=n,this.text=p,this.textContent=r;var a=this;window.addEventListener("resize",function(){a.goToStep(a.current)}),window.addEventListener("scroll",function(){a.goToStep(a.current)})};