!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TourGuide=e():t.TourGuide=e()}(window,function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){t.exports=s(1)},function(t,e,s){"use strict";function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e),s.d(e,"TourGuide",function(){return n});var n=function t(e){var s=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"hideSpotlight",function(){s.frame.style.display="none",document.querySelector("body").classList.remove("hideScrollY")}),i(this,"showSpotlight",function(){var t=document.querySelector("body");s.frame.style.display="block",t.classList.add("hideScrollY")}),i(this,"start",function(){s.hasSteps()&&(s.showSpotlight(),s.goToFirstStep())}),i(this,"stop",function(){s.hideSpotlight()}),i(this,"goToStep",function(t){if(s.hasSteps()&&!isNaN(t)&&t>-1&&t<s.steps.length){s.spot.classList.remove("spjs-step-"+s.current,"spjs-step-square","spjs-step-round"),s.current=t;var e=document.querySelector(s.steps[t].selector);if(e){var i=e.getBoundingClientRect();s.spot.style.width=i.width+20+"px",s.spot.style.height=i.height+20+"px",s.spot.style.top=i.top+i.height/2+"px",s.spot.style.left=i.left+i.width/2+"px",s.spot.classList.add("spjs-step-"+t),s.textContent.textContent=s.steps[t].text,s.previousButton&&(s.previousButton.style.display=0==s.current?"none":"inline-block"),s.steps[t].shape&&s.spot.classList.add("spjs-step-"+s.steps[t].shape)}}}),i(this,"goToFirstStep",function(){s.goToStep(0)}),i(this,"goToNextStep",function(){s.current==s.steps.length-1&&s.stop(),s.current<s.steps.length&&s.goToStep(s.current+1)}),i(this,"goToPreviousStep",function(){s.current>0&&s.goToStep(s.current-1)}),i(this,"hasSteps",function(){return""!=s.init&&s.steps.length>0}),i(this,"getCurrentElementSelector",function(){return s.steps[s.current].selector}),i(this,"getCurrentElement",function(){return document.querySelector(s.getCurrentElementSelector())}),i(this,"getText",function(){return s.steps[s.current].text}),i(this,"getStep",function(){return s.current+1}),i(this,"getTotalSteps",function(){return s.steps.length+1}),this.init="",this.shape="round",this.color="rgba(0,0,0,0.4)",this.skip=!0,this.skipText="Skip presentation",this.previous=!0,this.previousText="Previous",this.next=!0,this.nextText="Next",this.timer=0,this.current=0,this.steps=[],this.initTrigger=!1,this.frame=null,this.spot=null,this.text=null,this.textContent=null,this.previousButton=null,this.nextButton=null,e&&(e.init&&(this.init=e.init),e.shape&&(this.shape="square"==e.shape?"square":"round"),e.hasOwnProperty("skip")&&(this.skip=1==e.skip),e.hasOwnProperty("previous")&&(this.previous=1==e.previous),e.hasOwnProperty("next")&&(this.next=1==e.next),e.hasOwnProperty("initTrigger")&&(this.initTrigger=1==e.initTrigger),e.skipText&&(this.skipText=e.skipText),e.previousText&&(this.previousText=e.previousText),e.nextText&&(this.nextText=e.nextText),e.steps&&(this.steps=e.steps),e.color&&(this.color=e.color)),""!=this.init&&!this.hasSteps())for(var n=this.init;n;){var r=document.querySelector(n);this.steps.push({selector:n,text:r.dataset.spText||"",shape:r.dataset.spShape||""}),n=document.querySelector(n).dataset.spNext}var o=document.querySelector("#spjs-frame");o&&document.querySelector("body").removeChild(o);var p=document.createElement("div");p.id="spjs-frame";var u=document.createElement("div");u.id="spjs-spot",u.classList.add("spjs-"+this.shape),u.style.color=this.color;var c=document.createElement("div");c.id="spjs-text";var l=document.createElement("span");if(l.id="spjs-textContent",c.appendChild(l),this.skip){var a=document.createElement("span");a.innerHTML=this.skipText,a.id="spjs-skip",a.addEventListener("click",this.stop),p.appendChild(a)}if(this.previous){var h=document.createElement("span");h.innerHTML=this.previousText,h.addEventListener("click",this.goToPreviousStep),c.appendChild(h),this.previousButton=h}if(this.next){var d=document.createElement("span");d.innerHTML=this.nextText,d.addEventListener("click",this.goToNextStep),c.appendChild(d),this.nextButton=d}u.appendChild(c),p.appendChild(u),document.querySelector("body").appendChild(p),this.frame=p,this.spot=u,this.text=c,this.textContent=l;var f=this;window.addEventListener("resize",function(){f.goToStep(f.current)}),window.addEventListener("scroll",function(){f.goToStep(f.current)}),this.initTrigger&&document.querySelector(this.init).addEventListener("click",this.start)};e.default=n}]).TourGuide});